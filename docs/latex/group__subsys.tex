\hypertarget{group__subsys}{\section{Subsystem Module}
\label{group__subsys}\index{Subsystem Module@{Subsystem Module}}
}


Created on\+: Mar 12, 2014.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structversion__mmb__t}{version\+\_\+mmb\+\_\+t}
\begin{DoxyCompactList}\small\item\em Version typedef to store software version of subsystem. \end{DoxyCompactList}\item 
union \hyperlink{unionversion__t}{version\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__subsys_gaf723de738584c5c631981cac7d7d6ae9}{\#define {\bfseries L\+O\+G\+\_\+\+B\+U\+F}~\&tx0}\label{group__subsys_gaf723de738584c5c631981cac7d7d6ae9}

\item 
\hypertarget{group__subsys_ga5ecc8d4d514ebae84adabf96e0517f6f}{\#define \hyperlink{group__subsys_ga5ecc8d4d514ebae84adabf96e0517f6f}{Get\+Log\+Timestamp}()~0}\label{group__subsys_ga5ecc8d4d514ebae84adabf96e0517f6f}

\begin{DoxyCompactList}\small\item\em Get\+Log\+Timestamp must be defined so that it returns a integer (up to 32 bits) timestamp. \end{DoxyCompactList}\item 
\hypertarget{group__subsys_ga2c1e430ba1e34cfd1f6fc97bc26da884}{\#define {\bfseries Register\+Receiver}(fn)~\hyperlink{group__subsys_gab7e855156a8e0dd9472e2c0e141b268a}{Register\+Receiver\+U\+A\+R\+T0}(fn)}\label{group__subsys_ga2c1e430ba1e34cfd1f6fc97bc26da884}

\item 
\hypertarget{group__subsys_gac703facd927c53af44c31fa32aa3548b}{\#define {\bfseries Register\+Receiver\+U\+A\+R\+T}(fn)~\hyperlink{group__subsys_gab7e855156a8e0dd9472e2c0e141b268a}{Register\+Receiver\+U\+A\+R\+T0}(fn)}\label{group__subsys_gac703facd927c53af44c31fa32aa3548b}

\item 
\hypertarget{group__subsys_ga8142e07a8d859f42aa50094b1a4c98a8}{\#define {\bfseries Unregister\+Receiver}(fn)~\hyperlink{group__subsys_ga36215ce96afabbcb83f1a03b13fe0e44}{Unregister\+Receiver\+U\+A\+R\+T0}(fn)}\label{group__subsys_ga8142e07a8d859f42aa50094b1a4c98a8}

\item 
\hypertarget{group__subsys_gae1ff181cb9062b97a2151875c4268c4a}{\#define {\bfseries Unregister\+Receiver\+U\+A\+R\+T}(fn)~\hyperlink{group__subsys_ga36215ce96afabbcb83f1a03b13fe0e44}{Unregister\+Receiver\+U\+A\+R\+T0}(fn)}\label{group__subsys_gae1ff181cb9062b97a2151875c4268c4a}

\item 
\hypertarget{group__subsys_gad914679f013f117ec7470f75fee6149a}{\#define \hyperlink{group__subsys_gad914679f013f117ec7470f75fee6149a}{N\+U\+M\+\_\+\+S\+U\+B\+S\+Y\+S\+T\+E\+M\+S}~(U\+N\+K\+N\+O\+W\+N -\/ S\+Y\+S\+T\+E\+M + 1)}\label{group__subsys_gad914679f013f117ec7470f75fee6149a}

\begin{DoxyCompactList}\small\item\em The number of subsystems that the logging module knows about including S\+Y\+S\+T\+E\+M and U\+N\+K\+N\+O\+W\+N which will always be the first and last subsystem indices. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__subsys_ga37636e04877dd6421933267897117036}{typedef void($\ast$ {\bfseries receiver\+\_\+t} )(char)}\label{group__subsys_ga37636e04877dd6421933267897117036}

\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__subsys_ga1d309594956a828563f9181d766daa08}{priority\+\_\+level} \{ \\*
{\bfseries O\+F\+F} = 0, 
{\bfseries F\+O\+R\+C\+E} = 0, 
{\bfseries F\+O\+R\+C\+E\+\_\+\+L\+O\+G} = 0, 
{\bfseries I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+E\+R\+R\+O\+R} = 1, 
\\*
{\bfseries H\+I\+G\+H\+E\+S\+T\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 1, 
{\bfseries E\+R\+R\+O\+R}, 
{\bfseries H\+I\+G\+H\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 2, 
{\bfseries V\+E\+R\+B\+O\+S\+E\+\_\+\+E\+R\+R\+O\+R}, 
\\*
{\bfseries H\+I\+G\+H\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 3, 
{\bfseries I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+W\+A\+R\+N\+I\+N\+G}, 
{\bfseries M\+E\+D\+I\+U\+M\+\_\+\+H\+I\+G\+H\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 4, 
{\bfseries W\+A\+R\+N\+I\+N\+G}, 
\\*
{\bfseries M\+E\+D\+I\+U\+M\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 5, 
{\bfseries V\+E\+R\+B\+O\+S\+E\+\_\+\+W\+A\+R\+N\+I\+N\+G}, 
{\bfseries M\+E\+D\+I\+U\+M\+\_\+\+L\+O\+W\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 6, 
{\bfseries I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+M\+E\+S\+S\+A\+G\+E}, 
\\*
{\bfseries L\+O\+W\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 7, 
{\bfseries M\+E\+S\+S\+A\+G\+E}, 
{\bfseries L\+O\+W\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 8, 
{\bfseries V\+E\+R\+B\+O\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E}, 
\\*
{\bfseries L\+O\+W\+E\+S\+T\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y} = 9, 
{\bfseries E\+V\+E\+R\+Y\+T\+H\+I\+N\+G}
 \}
\begin{DoxyCompactList}\small\item\em priority Level enumeration used for log commands and tasks or saved. \end{DoxyCompactList}\item 
enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} \{ \\*
{\bfseries S\+Y\+S\+T\+E\+M} = 0, 
{\bfseries M\+U\+H\+\_\+\+G\+A\+M\+E1}, 
{\bfseries M\+U\+H\+\_\+\+G\+A\+M\+E2}, 
{\bfseries M\+U\+H\+\_\+\+G\+A\+M\+E3}, 
\\*
{\bfseries C\+A\+P\+\_\+\+G\+A\+M\+E}, 
{\bfseries C\+A\+P\+\_\+\+G\+A\+M\+E2}, 
{\bfseries C\+A\+P\+\_\+\+M\+I\+D\+T\+E\+R\+M}, 
{\bfseries U\+N\+K\+N\+O\+W\+N}
 \}
\begin{DoxyCompactList}\small\item\em Subsystem index enumeration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__subsys_gad5c93d1d78ea66a8e631957653e03a74}{Log\+Str} (char $\ast$str,...)
\begin{DoxyCompactList}\small\item\em Logs the null terminated string at the pointer (str) \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga450327eef2cd5f75293d462e72c81d63}{Log\+Msg} (enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} sys, enum \hyperlink{group__subsys_ga1d309594956a828563f9181d766daa08}{priority\+\_\+level} lev, char $\ast$str,...)
\begin{DoxyCompactList}\small\item\em Logs the message at the pointer (str) with a timestamp and subsystem name. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga93f514700ccf00d08dbdcff7f1224eb2}{System\+Init} (void)
\begin{DoxyCompactList}\small\item\em Initialize the subsystem module. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga395cbaf6db74454b690e444a3dddb8c1}{Sub\+System\+Tick} (void)
\begin{DoxyCompactList}\small\item\em Check on system resources and call appropriate functions, callbacks, or receivers. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{Subsystem\+Init} (enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} sys, enum \hyperlink{group__subsys_ga1d309594956a828563f9181d766daa08}{priority\+\_\+level} lev, char $\ast$name, \hyperlink{unionversion__t}{version\+\_\+t} version)
\begin{DoxyCompactList}\small\item\em Initialize settings for a subsystem -\/ critical for proper logging and command interface. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga7b8ad0486f5f208eef9d58b06931e7ca}{Register\+Callback} (enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} sys, void($\ast$callback)(char $\ast$cmd))
\begin{DoxyCompactList}\small\item\em Register a callback function for a subsystem. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{group__subsys_ga3e80779de12bce5e580cf22057427252}{Get\+Priority\+Level\+Name} (enum \hyperlink{group__subsys_ga1d309594956a828563f9181d766daa08}{priority\+\_\+level} lev)
\begin{DoxyCompactList}\small\item\em Return a pointer to a string corresponding to the name of a priority level. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{group__subsys_ga5e63d8d7c86e335b6d626c216e4acdc7}{Get\+Subsystem\+Name} (enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} sys)
\begin{DoxyCompactList}\small\item\em Return a pointer to a string corresponding to the name of the subsystem. \end{DoxyCompactList}\item 
enum \hyperlink{group__subsys_ga1d309594956a828563f9181d766daa08}{priority\+\_\+level} \hyperlink{group__subsys_ga4a2dc0fcdac8af77bdb6fdcc77ceb585}{Get\+Subsystem\+Priority} (enum \hyperlink{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{sys\+\_\+index} sys)
\begin{DoxyCompactList}\small\item\em Get the logging priority level of a subsystem. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_gab7e855156a8e0dd9472e2c0e141b268a}{Register\+Receiver\+U\+A\+R\+T0} (receiver\+\_\+t fn)
\begin{DoxyCompactList}\small\item\em Register a receiver to subscribe to U\+A\+R\+T0. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga36215ce96afabbcb83f1a03b13fe0e44}{Unregister\+Receiver\+U\+A\+R\+T0} (receiver\+\_\+t fn)
\begin{DoxyCompactList}\small\item\em Unregister a receiver from U\+A\+R\+T0. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga33bcde07b48383dabda400960d652fe3}{Register\+Receiver\+U\+A\+R\+T1} (receiver\+\_\+t fn)
\begin{DoxyCompactList}\small\item\em Register a receiver to subscribe to U\+A\+R\+T1. \end{DoxyCompactList}\item 
void \hyperlink{group__subsys_ga92477e997b5d091656dbf8174933a8bb}{Unregister\+Receiver\+U\+A\+R\+T1} (receiver\+\_\+t fn)
\begin{DoxyCompactList}\small\item\em Unregister a receiver from U\+A\+R\+T1. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__subsys_ga85637dd904a74841f18c9d65eca37c35}{\hyperlink{structbuffer__t}{buffer\+\_\+t} {\bfseries rx0}}\label{group__subsys_ga85637dd904a74841f18c9d65eca37c35}

\item 
\hypertarget{group__subsys_ga831fd91ae9bffe2e1e335d61414fbb6d}{\hyperlink{structbuffer__t}{buffer\+\_\+t} {\bfseries tx0}}\label{group__subsys_ga831fd91ae9bffe2e1e335d61414fbb6d}

\item 
\hypertarget{group__subsys_ga510a4fd51e1e3242d95a27544607288b}{\hyperlink{structbuffer__t}{buffer\+\_\+t} {\bfseries rx1}}\label{group__subsys_ga510a4fd51e1e3242d95a27544607288b}

\item 
\hypertarget{group__subsys_ga2d48e4797a64844f13a98cf99d6d77bc}{\hyperlink{structbuffer__t}{buffer\+\_\+t} {\bfseries tx1}}\label{group__subsys_ga2d48e4797a64844f13a98cf99d6d77bc}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Created on\+: Mar 12, 2014. 

\begin{DoxyAuthor}{Author}
\+: Michael
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
2014.\+03.\+26 changed System\+Tick to Subsystem\+Tick so the Task Management Module can own \hyperlink{group__task_gafd2aa563748d1ede229e5867753ead5d}{System\+Tick()} 
\end{DoxyVersion}
\hypertarget{sys_receive}{}\subsubsection{Sub\+System module command interface}\label{sys_receive}
If bi-\/directional communication is available (e.\+g.

U\+A\+R\+T) then the user can interface with the Sub\+System module in real time using the module's command interface.

A command can be sent to the module in the following format\+: 
\begin{DoxyCode}
$command -f0
\end{DoxyCode}
 Where the \$ indicates the start of the command, command is the name of the command and -\/f8 is a flag with a value of 8. \par
Valid system flags are {\ttfamily -\/s}, {\ttfamily -\/l} and {\ttfamily -\/g} 

The commands available are\+:

{\ttfamily version} (or {\ttfamily ver}) -\/ will output a list of subsystems and their version. No flags are applicable.

{\ttfamily level} (or {\ttfamily lev}) -\/ if no flags are given {\ttfamily level} will output level a list of valid level codes and their names as used in the log messages. If a {\ttfamily -\/l} flag is given but not a {\ttfamily -\/s} flag then the level specified with the {\ttfamily -\/l} flag is set as the global level. If the {\ttfamily -\/l} and {\ttfamily -\/s} flags are given then set the level specified with the {\ttfamily -\/l} flag for the subsystem specified with the {\ttfamily -\/s} flag. If a {\ttfamily -\/g} flag is given it will set the global log level to the specified value. The global log level will for any message from any subsystem to be logged if its level is at the global level or below.

{\ttfamily subsystem} (or {\ttfamily sub} or {\ttfamily sys} or {\ttfamily system}) -\/ will output a list of valid subsystem codes and their associated subsystem names and their current log level setting as used by the log message functions. The {\ttfamily -\/s} flag can be used to return only information about the specified subsystem.

Example usage\+: 
\begin{DoxyCode}
$version

$sub

$level

$level -l0

$level -s0 -l2
\end{DoxyCode}


In the above example\+:
\begin{DoxyItemize}
\item output the subsystems and their versions
\item output the subsystems and their codes
\item output the log levels and their codes
\item set the global log level to 0 (O\+F\+F)
\item set the log level for subsystem 0 (S\+Y\+S\+T\+E\+M) is set to 2 (E\+R\+R\+O\+R).
\end{DoxyItemize}

The end result is that no messages would be logged unless they were S\+Y\+S\+T\+E\+M messages with a priority level greater than or equal to E\+R\+R\+O\+R (note higher priority is lower numerically).

Additionally commands may be forwarded to the callback of compatible subsystems using the following format 
\begin{DoxyCode}
$12 command <anything goes>
$MUH play
\end{DoxyCode}
 In the first line subsystem index 12 is sent the command string starting after the space. In the second line a module named M\+U\+H is sent a command \char`\"{}play\char`\"{} \hypertarget{subsys_init}{}\subsubsection{Subsystem module initialization}\label{subsys_init}
Below are three example of how a subsystem could initialize itself.


\begin{DoxyCode}
\textcolor{comment}{// define the version}
\textcolor{preprocessor}{#define TASK\_VERSION (version\_t)0x01010014u}

\textcolor{comment}{// initialize module to log EVERYTHING and to use "task" to refer}
\textcolor{comment}{// to this subsystem in output messages}
\hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{SubsystemInit}(TASK, EVERYTHING, \textcolor{stringliteral}{"task"}, TASK\_VERSION);

\textcolor{comment}{// or another way to do the same thing}

\textcolor{preprocessor}{#define TASK\_VERSION\_MAJOR 1}
\textcolor{preprocessor}{#define TASK\_VERSION\_MINOR 1}
\textcolor{preprocessor}{#define TASK\_VERSION\_BUILD 20}

\hyperlink{unionversion__t}{version\_t} task\_version;
task\_version.major = TASK\_VERSION\_MAJOR;
task\_version.minor = TASK\_VERSION\_MINOR;
task\_version.build = TASK\_VERSION\_BUILD;

\hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{SubsystemInit}(TASK, EVERYTHING, \textcolor{stringliteral}{"task"}, task\_version);

\textcolor{comment}{// or to do it all in one line}
\hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{SubsystemInit}(TASK, EVERYTHING, \textcolor{stringliteral}{"task"}, (\hyperlink{unionversion__t}{version\_t})0x01010014u);
\end{DoxyCode}
 

\subsection{Enumeration Type Documentation}
\hypertarget{group__subsys_ga1d309594956a828563f9181d766daa08}{\index{Subsystem Module@{Subsystem Module}!priority\+\_\+level@{priority\+\_\+level}}
\index{priority\+\_\+level@{priority\+\_\+level}!Subsystem Module@{Subsystem Module}}
\subsubsection[{priority\+\_\+level}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf priority\+\_\+level}}}\label{group__subsys_ga1d309594956a828563f9181d766daa08}


priority Level enumeration used for log commands and tasks or saved. 

The levels are\+:
\begin{DoxyItemize}
\item O\+F\+F / F\+O\+R\+C\+E / F\+O\+R\+C\+E\+\_\+\+L\+O\+G (use O\+F\+F when setting level, use F\+O\+R\+C\+E\+\_\+\+L\+O\+G for messages)
\item I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+E\+R\+R\+O\+R / H\+I\+G\+H\+E\+S\+T\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item E\+R\+R\+O\+R / H\+I\+G\+H\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item V\+E\+R\+B\+O\+S\+E\+\_\+\+E\+R\+R\+O\+R / H\+I\+G\+H\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+W\+A\+R\+N\+I\+N\+G / M\+E\+D\+I\+U\+M\+\_\+\+H\+I\+G\+H\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item W\+A\+R\+N\+I\+N\+G / M\+E\+D\+I\+U\+M\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item V\+E\+R\+B\+O\+S\+E\+\_\+\+W\+A\+R\+N\+I\+N\+G / M\+E\+D\+I\+U\+M\+\_\+\+L\+O\+W\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item I\+M\+P\+O\+R\+T\+A\+N\+T\+\_\+\+M\+E\+S\+S\+A\+G\+E / L\+O\+W\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item M\+E\+S\+S\+A\+G\+E / L\+O\+W\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item V\+E\+R\+B\+O\+S\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E / L\+O\+W\+E\+S\+T\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y
\item E\+V\+E\+R\+Y\+T\+H\+I\+N\+G (does not make sense to use for messages)
\end{DoxyItemize}

These levels can be set for specific subsystems \hypertarget{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}{\index{Subsystem Module@{Subsystem Module}!sys\+\_\+index@{sys\+\_\+index}}
\index{sys\+\_\+index@{sys\+\_\+index}!Subsystem Module@{Subsystem Module}}
\subsubsection[{sys\+\_\+index}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf sys\+\_\+index}}}\label{group__subsys_gadc5d9f07ddb402114afea1177fc9301b}


Subsystem index enumeration. 

First element must be S\+Y\+S\+T\+E\+M at index 0 and last element must be U\+N\+K\+N\+O\+W\+N Should be in sequential order. It is recommended to implement this enum in \hyperlink{system_8h_source}{system.\+h} 

\subsection{Function Documentation}
\hypertarget{group__subsys_ga3e80779de12bce5e580cf22057427252}{\index{Subsystem Module@{Subsystem Module}!Get\+Priority\+Level\+Name@{Get\+Priority\+Level\+Name}}
\index{Get\+Priority\+Level\+Name@{Get\+Priority\+Level\+Name}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Get\+Priority\+Level\+Name}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ Get\+Priority\+Level\+Name (
\begin{DoxyParamCaption}
\item[{enum {\bf priority\+\_\+level}}]{lev}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga3e80779de12bce5e580cf22057427252}


Return a pointer to a string corresponding to the name of a priority level. 


\begin{DoxyParams}{Parameters}
{\em lev} & -\/ priority level to get name of \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ pointer to a null terminated string corresponding to the name of the priority level 
\end{DoxyReturn}
\hypertarget{group__subsys_ga5e63d8d7c86e335b6d626c216e4acdc7}{\index{Subsystem Module@{Subsystem Module}!Get\+Subsystem\+Name@{Get\+Subsystem\+Name}}
\index{Get\+Subsystem\+Name@{Get\+Subsystem\+Name}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Get\+Subsystem\+Name}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ Get\+Subsystem\+Name (
\begin{DoxyParamCaption}
\item[{enum {\bf sys\+\_\+index}}]{sys}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga5e63d8d7c86e335b6d626c216e4acdc7}


Return a pointer to a string corresponding to the name of the subsystem. 

The name returned is the one set by \hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{Subsystem\+Init()}


\begin{DoxyParams}{Parameters}
{\em sys} & -\/ priority level to get name of \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ pointer to a null terminated string corresponding to the name of the subsystem 
\end{DoxyReturn}
\hypertarget{group__subsys_ga4a2dc0fcdac8af77bdb6fdcc77ceb585}{\index{Subsystem Module@{Subsystem Module}!Get\+Subsystem\+Priority@{Get\+Subsystem\+Priority}}
\index{Get\+Subsystem\+Priority@{Get\+Subsystem\+Priority}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Get\+Subsystem\+Priority}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf priority\+\_\+level} Get\+Subsystem\+Priority (
\begin{DoxyParamCaption}
\item[{enum {\bf sys\+\_\+index}}]{sys}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga4a2dc0fcdac8af77bdb6fdcc77ceb585}


Get the logging priority level of a subsystem. 

The priority returned is the one set by \hyperlink{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{Subsystem\+Init()}


\begin{DoxyParams}{Parameters}
{\em sys} & -\/ subsystem index of system to get priority of \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
priority\+\_\+level of the given subsystem sys 
\end{DoxyReturn}
\hypertarget{group__subsys_ga450327eef2cd5f75293d462e72c81d63}{\index{Subsystem Module@{Subsystem Module}!Log\+Msg@{Log\+Msg}}
\index{Log\+Msg@{Log\+Msg}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Log\+Msg}]{\setlength{\rightskip}{0pt plus 5cm}void Log\+Msg (
\begin{DoxyParamCaption}
\item[{enum {\bf sys\+\_\+index}}]{sys, }
\item[{enum {\bf priority\+\_\+level}}]{lev, }
\item[{char $\ast$}]{str, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga450327eef2cd5f75293d462e72c81d63}


Logs the message at the pointer (str) with a timestamp and subsystem name. 

Before logging the message the function will check the current log level of the subsystem and compare it against the level parameter to determine if the message should be logged

This function is implemented using Push\+\_\+vprintf. See Push\+\_\+printf() for supported flags/features.

Will log the string to the buffer defined by L\+O\+G\+\_\+\+B\+U\+F (typically tx0)


\begin{DoxyParams}{Parameters}
{\em sys} & subsystem index \\
\hline
{\em lev} & log level priority/severity \\
\hline
{\em str} & pointer to message to log \\
\hline
{\em ...} & variable number of replacement parameters for the str string\\
\hline
\end{DoxyParams}
Example usage\+: 
\begin{DoxyCode}
\hyperlink{group__subsys_ga450327eef2cd5f75293d462e72c81d63}{LogMsg}(SYSTEM, WARNING, \textcolor{stringliteral}{"oops I crapped my pants"});
\hyperlink{group__subsys_ga450327eef2cd5f75293d462e72c81d63}{LogMsg}(SYSTEM, ERROR, \textcolor{stringliteral}{"System Index %d, System Name %s."}, SYSTEM, 
      \hyperlink{group__subsys_ga5e63d8d7c86e335b6d626c216e4acdc7}{GetSubsystemName}(SYSTEM));
\end{DoxyCode}
 \hypertarget{group__subsys_gad5c93d1d78ea66a8e631957653e03a74}{\index{Subsystem Module@{Subsystem Module}!Log\+Str@{Log\+Str}}
\index{Log\+Str@{Log\+Str}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Log\+Str}]{\setlength{\rightskip}{0pt plus 5cm}void Log\+Str (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{group__subsys_gad5c93d1d78ea66a8e631957653e03a74}


Logs the null terminated string at the pointer (str) 

Same as \hyperlink{group__subsys_ga450327eef2cd5f75293d462e72c81d63}{Log\+Msg()} without the header in the beginning and without the C\+R\+L\+F at the end.

This function is implemented using Push\+\_\+vprintf. See Push\+\_\+printf() for supported flags/features.

Will log the string to the buffer defined by L\+O\+G\+\_\+\+B\+U\+F (typically tx0)


\begin{DoxyParams}{Parameters}
{\em str} & pointer to string to log \\
\hline
{\em ...} & variable number of replacement parameters for the str string\\
\hline
\end{DoxyParams}
Example usage\+: 
\begin{DoxyCode}
\hyperlink{group__subsys_gad5c93d1d78ea66a8e631957653e03a74}{LogStr}(\textcolor{stringliteral}{"oops I crapped my pants"});
\hyperlink{group__subsys_gad5c93d1d78ea66a8e631957653e03a74}{LogStr}(\textcolor{stringliteral}{"System Index %d, System Name %s."}, SYSTEM, \hyperlink{group__subsys_ga5e63d8d7c86e335b6d626c216e4acdc7}{GetSubsystemName}(SYSTEM));
\end{DoxyCode}
 \hypertarget{group__subsys_ga7b8ad0486f5f208eef9d58b06931e7ca}{\index{Subsystem Module@{Subsystem Module}!Register\+Callback@{Register\+Callback}}
\index{Register\+Callback@{Register\+Callback}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Register\+Callback}]{\setlength{\rightskip}{0pt plus 5cm}void Register\+Callback (
\begin{DoxyParamCaption}
\item[{enum {\bf sys\+\_\+index}}]{sys, }
\item[{void($\ast$)(char $\ast$cmd)}]{callback}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga7b8ad0486f5f208eef9d58b06931e7ca}


Register a callback function for a subsystem. 

When a command is received by the logging module for the subsystem {\ttfamily sys} the {\ttfamily callback} function will be executed with a pointer to the command.


\begin{DoxyParams}{Parameters}
{\em sys} & -\/ subsystem to register the callback for (enum sys\+\_\+index type) \\
\hline
{\em callback} & -\/ function pointer to the function to run when a command is received for the subsystem. function must have no return value and a character pointer input.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
\textcolor{comment}{// prototype for the callback function}
\textcolor{keywordtype}{void} TimingModuleCallback(\textcolor{keywordtype}{char} * ptr);
\textcolor{comment}{// register the callback function for the TIMING subsystem}
\hyperlink{group__subsys_ga7b8ad0486f5f208eef9d58b06931e7ca}{RegisterCallback}(TIMING, TimingModuleCallback);
\end{DoxyCode}
 \hypertarget{group__subsys_gab7e855156a8e0dd9472e2c0e141b268a}{\index{Subsystem Module@{Subsystem Module}!Register\+Receiver\+U\+A\+R\+T0@{Register\+Receiver\+U\+A\+R\+T0}}
\index{Register\+Receiver\+U\+A\+R\+T0@{Register\+Receiver\+U\+A\+R\+T0}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Register\+Receiver\+U\+A\+R\+T0}]{\setlength{\rightskip}{0pt plus 5cm}void Register\+Receiver\+U\+A\+R\+T0 (
\begin{DoxyParamCaption}
\item[{receiver\+\_\+t}]{fn}
\end{DoxyParamCaption}
)}}\label{group__subsys_gab7e855156a8e0dd9472e2c0e141b268a}


Register a receiver to subscribe to U\+A\+R\+T0. 

Once registered the receiver function will be called with a single char input every time a char is received by U\+A\+R\+T0. The receiver will be called from \hyperlink{group__task_gafd2aa563748d1ede229e5867753ead5d}{System\+Tick()}

Synonymous with Register\+Receiver() and Register\+Receiver\+U\+A\+R\+T()


\begin{DoxyParams}{Parameters}
{\em fn} & -\/ function pointer to void fn(char c) type receiver \\
\hline
\end{DoxyParams}
\hypertarget{group__subsys_ga33bcde07b48383dabda400960d652fe3}{\index{Subsystem Module@{Subsystem Module}!Register\+Receiver\+U\+A\+R\+T1@{Register\+Receiver\+U\+A\+R\+T1}}
\index{Register\+Receiver\+U\+A\+R\+T1@{Register\+Receiver\+U\+A\+R\+T1}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Register\+Receiver\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Register\+Receiver\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{receiver\+\_\+t}]{fn}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga33bcde07b48383dabda400960d652fe3}


Register a receiver to subscribe to U\+A\+R\+T1. 

Once registered the receiver function will be called with a single char input every time a char is received by U\+A\+R\+T1. The receiver will be called from \hyperlink{group__task_gafd2aa563748d1ede229e5867753ead5d}{System\+Tick()}


\begin{DoxyParams}{Parameters}
{\em fn} & -\/ function pointer to void fn(char c) type receiver \\
\hline
\end{DoxyParams}
\hypertarget{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}{\index{Subsystem Module@{Subsystem Module}!Subsystem\+Init@{Subsystem\+Init}}
\index{Subsystem\+Init@{Subsystem\+Init}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Subsystem\+Init}]{\setlength{\rightskip}{0pt plus 5cm}void Subsystem\+Init (
\begin{DoxyParamCaption}
\item[{enum {\bf sys\+\_\+index}}]{sys, }
\item[{enum {\bf priority\+\_\+level}}]{lev, }
\item[{char $\ast$}]{name, }
\item[{{\bf version\+\_\+t}}]{version}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga4cb5a7bc96bce54eaedba65a8f4847b5}


Initialize settings for a subsystem -\/ critical for proper logging and command interface. 

If a module/subsystem uses the logging it should call this function with the appropriate inputs when the subsystem is initializing.


\begin{DoxyParams}{Parameters}
{\em sys} & subsystem index \\
\hline
{\em lev} & log level priority/severity setting (will log messages at this level and below) \\
\hline
{\em name} & pointer to name of the subsystem (recommended to make the name 8 characters or less) \\
\hline
{\em version} & software version of subsystem, see \hyperlink{unionversion__t}{version\+\_\+t} for more info \\
\hline
\end{DoxyParams}
\hypertarget{group__subsys_ga395cbaf6db74454b690e444a3dddb8c1}{\index{Subsystem Module@{Subsystem Module}!Sub\+System\+Tick@{Sub\+System\+Tick}}
\index{Sub\+System\+Tick@{Sub\+System\+Tick}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Sub\+System\+Tick}]{\setlength{\rightskip}{0pt plus 5cm}void Sub\+System\+Tick (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga395cbaf6db74454b690e444a3dddb8c1}


Check on system resources and call appropriate functions, callbacks, or receivers. 

Note\+: Updated to use the Task Management Module and renamed to \char`\"{}\+Subsystem\+Tick()\char`\"{}.

Example usage for \hyperlink{group__task_gafd2aa563748d1ede229e5867753ead5d}{System\+Tick()} implemented by the Task Management Module\+: 
\begin{DoxyCode}
\textcolor{keywordtype}{void} main(\textcolor{keywordtype}{void}) \{
   ...
   \textcolor{keywordflow}{while}(1) \{
      \hyperlink{group__task_gafd2aa563748d1ede229e5867753ead5d}{SystemTick}();
   \}
\}
\end{DoxyCode}
 \hypertarget{group__subsys_ga93f514700ccf00d08dbdcff7f1224eb2}{\index{Subsystem Module@{Subsystem Module}!System\+Init@{System\+Init}}
\index{System\+Init@{System\+Init}!Subsystem Module@{Subsystem Module}}
\subsubsection[{System\+Init}]{\setlength{\rightskip}{0pt plus 5cm}void System\+Init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga93f514700ccf00d08dbdcff7f1224eb2}


Initialize the subsystem module. 

Will initialize system resources and buffers. Currently setup to initialize used U\+A\+R\+T channels and clear all receivers. \hypertarget{group__subsys_ga36215ce96afabbcb83f1a03b13fe0e44}{\index{Subsystem Module@{Subsystem Module}!Unregister\+Receiver\+U\+A\+R\+T0@{Unregister\+Receiver\+U\+A\+R\+T0}}
\index{Unregister\+Receiver\+U\+A\+R\+T0@{Unregister\+Receiver\+U\+A\+R\+T0}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Unregister\+Receiver\+U\+A\+R\+T0}]{\setlength{\rightskip}{0pt plus 5cm}void Unregister\+Receiver\+U\+A\+R\+T0 (
\begin{DoxyParamCaption}
\item[{receiver\+\_\+t}]{fn}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga36215ce96afabbcb83f1a03b13fe0e44}


Unregister a receiver from U\+A\+R\+T0. 

Synonymous with Unregister\+Receiver() and Unregister\+Receiver\+U\+A\+R\+T()


\begin{DoxyParams}{Parameters}
{\em fn} & -\/ function pointer to void fn(char c) type receiver \\
\hline
\end{DoxyParams}
\hypertarget{group__subsys_ga92477e997b5d091656dbf8174933a8bb}{\index{Subsystem Module@{Subsystem Module}!Unregister\+Receiver\+U\+A\+R\+T1@{Unregister\+Receiver\+U\+A\+R\+T1}}
\index{Unregister\+Receiver\+U\+A\+R\+T1@{Unregister\+Receiver\+U\+A\+R\+T1}!Subsystem Module@{Subsystem Module}}
\subsubsection[{Unregister\+Receiver\+U\+A\+R\+T1}]{\setlength{\rightskip}{0pt plus 5cm}void Unregister\+Receiver\+U\+A\+R\+T1 (
\begin{DoxyParamCaption}
\item[{receiver\+\_\+t}]{fn}
\end{DoxyParamCaption}
)}}\label{group__subsys_ga92477e997b5d091656dbf8174933a8bb}


Unregister a receiver from U\+A\+R\+T1. 


\begin{DoxyParams}{Parameters}
{\em fn} & -\/ function pointer to void fn(char c) type receiver \\
\hline
\end{DoxyParams}
